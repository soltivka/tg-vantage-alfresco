{"version":3,"file":"alfrescoApiCompatibility.js","sourceRoot":"","sources":["alfrescoApiCompatibility.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n* @license\n* Copyright 2018 Alfresco Software, Ltd.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*     http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { AlfrescoApi } from './alfrescoApi';\nimport { AlfrescoApiConfig } from './alfrescoApiConfig';\n\nimport { Legacy } from './api-legacy/legacy';\nimport { CONTENT_LEGACY_APIS } from './api-legacy/content-rest-api/src';\nimport { APS_LEGACY_APIS } from './api-legacy/activiti-rest-api/src';\nimport { DISCOVERY_APIS } from './api/discovery-rest-api/api';\nimport { GS_CLASSIFICATION_APIS } from './api/gs-classification-rest-api/api';\nimport { GS_CORE_APIS } from './api/gs-core-rest-api/api';\nimport { SEARCH_APIS } from './api/search-rest-api/api';\nimport { AUTH_APIS } from './api/auth-rest-api/api';\n\nimport { ContentApi } from './api/content-custom-api/api/content.api';\nimport { WebscriptApi } from './api/content-custom-api/api/webscript.api';\nimport { AlfrescoUpload } from './api-legacy/alfrescoUpload';\nimport { NodesApi } from './api-legacy/content-rest-api/src/api/nodesApi';\nimport { ProcessClient } from './processClient';\nimport { ContentClient } from './contentClient';\n\n/**\n * @deprecated 3.0.0\n */\nexport class AlfrescoApiCompatibility extends AlfrescoApi {\n    /**\n     * @deprecated 3.0.0\n     */\n    core: Legacy.Core = <Legacy.Core> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    activiti: Legacy.Activiti = <Legacy.Activiti> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    auth: Legacy.Auth = <Legacy.Auth> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    search: Legacy.Search = <Legacy.Search> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    gsCore: Legacy.GsCore = <Legacy.GsCore> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    gsClassification: Legacy.GsClassification = <Legacy.GsClassification> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    discovery: Legacy.Discovery = <Legacy.Discovery> {};\n\n    /**\n     * @deprecated 3.0.0\n     */\n    content: ContentApi;\n\n    /**\n     * @deprecated 3.0.0\n     */\n    node: NodesApi;\n\n    /**\n     * @deprecated 3.0.0\n     */\n    nodes: NodesApi;\n\n    /**\n     * @deprecated 3.0.0\n     */\n    upload: AlfrescoUpload;\n\n    /**\n     * @deprecated 3.0.0\n     */\n    webScript: WebscriptApi;\n    /**\n     * @deprecated 3.0.0\n     */\n    bpmClient: ProcessClient;\n    /**\n     * @deprecated 3.0.0\n     */\n    ecmClient: ContentClient;\n\n    constructor(config: AlfrescoApiConfig) {\n        super(config);\n\n        this.initObjects();\n    }\n\n    configureJsApi(config: AlfrescoApiConfig) {\n        this.setConfig(config);\n    }\n\n    initObjects() {\n        this._instantiateOldObjects(CONTENT_LEGACY_APIS, this.core);\n        this._instantiateOldObjects(APS_LEGACY_APIS, this.activiti);\n        this._instantiateNewObjects(AUTH_APIS, this.auth);\n        this._instantiateNewObjects(SEARCH_APIS, this.search);\n        this._instantiateNewObjects(DISCOVERY_APIS, this.discovery);\n        this._instantiateNewObjects(GS_CORE_APIS, this.gsCore);\n        this._instantiateNewObjects(GS_CLASSIFICATION_APIS, this.gsClassification);\n\n        this.nodes = this.node = this.core.nodesApi;\n\n        this.content = new ContentApi(this);\n        this.upload = new AlfrescoUpload(this);\n        this.webScript = this.core.webscriptApi;\n        this.bpmClient = this.processClient;\n        this.ecmClient = this.contentClient;\n    }\n\n    _instantiateOldObjects(module: any, moduleCopy: any) {\n        let classArray = Object.keys(module);\n\n        classArray.forEach((currentClass) => {\n            moduleCopy[currentClass] = module[currentClass];\n            let obj = this._stringToObject(currentClass, module);\n            let nameObj = this._lowerFirst(currentClass);\n            obj?.init(this);\n            moduleCopy[nameObj] = obj;\n        });\n    }\n\n    _stringToObject(nameClass: string, module: any) {\n        try {\n            if (typeof module[nameClass] === 'function') {\n                return new module[nameClass]();\n            }\n        } catch (error) {\n            console.log(nameClass + '  ' + error);\n        }\n    }\n\n    _instantiateNewObjects(module: any, moduleCopy: any) {\n        let classArray = Object.keys(module);\n\n        classArray.forEach((currentClass: any) => {\n            moduleCopy[currentClass] = module[currentClass];\n            let nameObj = this._lowerFirst(currentClass);\n            moduleCopy[nameObj] = new module[currentClass](this);\n        });\n    }\n\n    _lowerFirst(text: string) {\n        return text.charAt(0).toLowerCase() + text.slice(1);\n    }\n\n}\n"]}